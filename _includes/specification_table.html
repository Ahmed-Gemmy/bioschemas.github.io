<table class="spec-prof-table">
    <thead>
        <tr>
            <th>Property</th>
            <th>Expected Type</th>
            <th>Description</th>
            <th>CD</th>
            <th>Controlled Vocabulary</th>
            <th>Examples</th>
        </tr>
    </thead>
    <tbody>
        {% assign  marginality_list = "Minimum,Recommended,Optional" | split: ',' %}
        {% for current_mg in marginality_list %}
        {% if page.mapping != null %}
        {% assign props_list = page.mapping | where: 'marginality', current_mg | sort: 'name' %}
        {% else %}
        {% assign props_list = page.mapping | where: 'marginality', current_mg  %}
        {% endif %}
        {%if props_list.size > 0%}
        <tr class="cardinality">
            <td colspan="6">
                Marginality: <b class="{{current_mg}}">{{current_mg}}.</b>
            </td>
        </tr>
        {%endif%}
        {% for prop in props_list %}
        <tr>
            {% if prop.type == "bioschemas" %}
            <td class="property"><a href="#" class="bioschema">{{prop.property}}</a></td>
            {% elsif prop.type == "schemas.org" or prop.type == "" %}
            <td class="property"><a href="http://schema.org/{{prop.property}}" class="schemaorg">{{prop.property}}</a></td>
            {% elsif prop.type == "pending" %}
            <td class="property"><a href="http://schema.org/{{prop.property}}" class="pending">{{prop.property}}</a></td>
            {% else %}
            <td class="property"><a href="{{prop.type_url}}" class="external">{{prop.property}}</a></td>
            {% endif %}
            <td>
                {% for temp_exp_type in prop.expected_types %}
                {% if temp_exp_type == "PhysicalEntity" or temp_exp_type == "LabProtocol" or temp_exp_type == "DataRecord" or temp_exp_type == "BioChemEntity" %}
                <a href="http://bioschemas.org/specifications/{{temp_exp_type}}/specification/">{{temp_exp_type}}</a><br>
                {% else %}
                <a href="http://schema.org/{{temp_exp_type}}">{{temp_exp_type}}</a><br>
                {% endif %}
                {% endfor %}
            </td>
            <td>
                {% unless prop.description == "" %}
                <strong>Schema: </strong>{{prop.description}}<br />
                {% endunless %}  
                {% unless prop.bsc_description == "" %}
                <strong>Bioschemas: </strong>{{prop.bsc_description}}
                {% endunless %}
            </td>
            <td>{{prop.cardinality}}</td>
            <td>
                {% for cv in prop.controlled_vocab%}
                {% for ontology in cv[1]%}
                <a href="http://{{ontology.url}}">{{ontology.name}}</a>
                {%endfor%}
                {% for term in cv[2]%}
                {{term.name}}
                {%endfor%}
                {%endfor%}
            </td>
            <td>
                <div class="example-code">
                    <pre>
                        <code>{{prop.example}}</code>
                    </pre>
                </div>
            </td>
        </tr>
        {% endfor %}
        {% endfor %}
    </tbody>
</table>