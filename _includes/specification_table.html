<div class="spec-table-wrapper">
    <table class="spec-prof-table">
       <thead>
          <tr>
             <th>Property</th>
             <th>Expected Type</th>
             <th>Description</th>
             <th>CD</th>
             <th class="control-vocabulary-column">Controlled Vocabulary</th>
             <th>Examples</th>
          </tr>
       </thead>
       <tbody>
          {% assign  marginality_list = "Minimum,Recommended,Optional" | split: ',' %}
          {% for current_mg in marginality_list %}
          {% if page.mapping != null %}
          {% assign props_list = page.mapping | where: 'marginality', current_mg | sort: 'name' %}
          {% else %}
          {% assign props_list = page.mapping | where: 'marginality', current_mg  %}
          {% endif %}
          {%if props_list.size > 0%}
          <tr class="cardinality">
             <td colspan="6">
                Marginality: <b>{{current_mg}}.</b>
             </td>
          </tr>
          {%endif%}
          {% for prop in props_list %}
          <tr>
             {% if prop.type == "bioschemas" %}
             <td class="property-column"><a href="{{prop.type_url}}" target="_blank" class="bioschema">{{prop.property}}</a></td>
             {% elsif prop.type == "schemas.org" or prop.type == "" %}
             <td class="property-column"><a href="http://schema.org/{{prop.property}}" target="_blank" class="schemaorg">{{prop.property}}</a></td>
             {% elsif prop.type == "pending" %}
             <td class="property-column"><a href="http://schema.org/{{prop.property}}" target="_blank" class="pending">{{prop.property}}</a></td>
             {% else %}
             <td class="property-column"><a href="{{prop.type_url}}" target="_blank" class="external">{{prop.property}}</a></td>
             {% endif %}
             <td class="expected-type-column">
                {% for temp_exp_type in prop.expected_types %}
                {% if temp_exp_type == "LabProtocol" or temp_exp_type == "DataRecord" or temp_exp_type == "BioChemEntity" %}
                <a href="http://bioschemas.org/types/{{temp_exp_type}}/specification/" target="_blank">{{temp_exp_type}}</a><br>
                {% else %}
                <a href="http://schema.org/{{temp_exp_type}}" target="_blank">{{temp_exp_type}}</a><br>
                {% endif %}
                {% endfor %}
             </td>
             <td class="description-column">
                {% unless prop.description == "" %}
                <strong>Schema: </strong>{{prop.description | markdownify }}<br />
                {% endunless %}  
                {% unless prop.bsc_description == "" %}
                <strong>Bioschemas: </strong>{{prop.bsc_description | markdownify }}
                {% endunless %}
             </td>
             <td>{{prop.cardinality}}</td>
             <td class="control-vocabulary-column">{{prop.controlled_vocab | markdownify }}</td>
             <!-- <td class="example-column">
                <div class="example-code">
                {% unless prop.example == "" %}
                {% highlight javascript %}{{prop.example}}{% endhighlight %}
                {% endunless %}
                </div>
             </td> -->
             <td>
                {% unless prop.example == "" %}
                <button type="button" class="example-badge" data-toggle="modal" data-target="#myModal{{prop.property}}"><i class="fas fa-code"></i></button>
                <!-- Modal -->
                <div id="myModal{{prop.property}}" class="modal fade" role="dialog">
                    <div class="modal-dialog">

                        <!-- Modal content-->
                        <div class="modal-content">
                        <div class="modal-header">
                            <span class="modal-title">Property {{prop.property}} example</span>
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                        </div>
                        <div class="modal-body">
                            <div class="example-code">
                            {% highlight javascript %}{{prop.example}}{% endhighlight %}
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                        </div>
                    </div>
                </div>
                {% endunless %}              
             </td>
          </tr>
          {% endfor %}
          {% endfor %}
       </tbody>
    </table>
 </div>
